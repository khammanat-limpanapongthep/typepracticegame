<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>type practice</title>

<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app" id="app">
    <div class="row">
      <div style="display:flex; align-items:center; gap:10px">
        <div class="title">type practice</div>
        <span class="badge">words: <b id="wordCount">50</b></span>
        <span class="badge">timer: <b id="timerBadge">30s</b></span>
      </div>
      <div style="display:flex; align-items:center; gap:12px">
        <div class="hud" id="hud">
          <div class="stat"><div class="l">wpm</div><div class="v" id="wpm">0</div></div>
          <div class="stat"><div class="l">accuracy</div><div class="v" id="acc">100%</div></div>
          <div class="stat"><div class="l">time</div><div class="v" id="time">30.0</div></div>
        </div>
        <button id="themeToggle" aria-label="Toggle dark and light mode">light mode</button>
      </div>
    </div>

    <!-- TYPING VIEW -->
    <canvas id="stage" class="stage" width="1600" height="700" aria-label="typing area"></canvas>

    <div class="controls" id="controls">
      <div class="seg" id="timerSeg" aria-label="timer">
        <button type="button" data-t="15">15s</button>
        <button type="button" data-t="30" class="is-active">30s</button>
        <button type="button" data-t="60">60s</button>
        <button type="button" data-t="90">90s</button>
      </div>
      <div class="seg" id="sampleSeg" aria-label="sample pool">
        <button type="button" data-sample="B1" class="is-active">B1</button>
        <button type="button" data-sample="B2">B2</button>
        <button type="button" data-sample="C1">C1</button>
        <button type="button" data-sample="C2">C2</button>
      </div>
      <span class="spacer"></span>
      <button id="restart">repeat (Esc / Ctrl+R)</button>
      <button id="newText">next test (Ctrl+N)</button>
      <button id="shorter">shorter</button>
      <button id="longer">longer</button>
      <button id="custom">use my text</button>
    </div>

    <!-- CUSTOM TEXT OVERLAY -->
    <div class="overlay" id="overlay">
      <div class="sheet">
        <h3>Paste your own paragraph</h3>
        <textarea id="customArea" placeholder="Paste or type your text here..."></textarea>
        <div class="actions">
          <button id="cancelCustom">cancel</button>
          <button id="useCustom">use this text</button>
        </div>
      </div>
    </div>

    <!-- RESULTS PAGE -->
    <div class="results" id="results">
      <div class="result-grid">
        <div class="summary">
          <div class="label">wpm</div>
          <div class="big" id="resWpm">0</div>
          <div class="label" style="margin-top:14px">acc</div>
          <div class="big" id="resAcc">0%</div>

          <div class="kvs">
            <div class="kv"><div class="k">test type</div><div class="v" id="resType">time 30 • english</div></div>
            <div class="kv"><div class="k">raw</div><div class="v" id="resRaw">0</div></div>
            <div class="kv"><div class="k">characters</div><div class="v" id="resChars">0/0/0/0</div></div>
            <div class="kv"><div class="k">consistency</div><div class="v" id="resCons">—</div></div>
            <div class="kv"><div class="k">time</div><div class="v" id="resTime">30s</div></div>
            <div class="kv"><div class="k">other</div><div class="v" id="resOther">—</div></div>
          </div>
        </div>

        <div>
          <canvas id="resChart" class="chart" width="620" height="240"></canvas>
          <div class="label" style="margin-top:8px">Words per Minute</div>
        </div>

        <div class="res-actions">
          <button id="btnRepeat">repeat test</button>
          <button id="btnNext">next test</button>
          <button id="btnOwn">use my text</button>
        </div>
      </div>
    </div>
  </div>

  <input id="sink" autocomplete="off" autocapitalize="off" spellcheck="false" />
  <script src="B1.js"></script>
  <script src="B2.js"></script>
  <script src="C1.js"></script>
  <script src="C2.js"></script>
  <script src="main.js"></script>
</body>
</html>

